# ============================================================================
# NODE CONFIGURATION
# ============================================================================

# Path to node configuration YAML file
NODE_CONFIG_FILE=./node-config.yaml

# ============================================================================
# BACKUP RPC ENDPOINTS (Fallback if local nodes unavailable)
# ============================================================================

ETHEREUM_RPC_BACKUP=https://eth-mainnet.g.alchemy.com/v2/YOUR_API_KEY
POLYGON_RPC_BACKUP=https://polygon-mainnet.g.alchemy.com/v2/YOUR_API_KEY
ARBITRUM_RPC_BACKUP=https://arb-mainnet.g.alchemy.com/v2/YOUR_API_KEY
BSC_RPC_BACKUP=https://bsc-dataseed.binance.org/
AVALANCHE_RPC_BACKUP=https://api.avax.network/ext/bc/C/rpc
BASE_RPC_BACKUP=https://base-mainnet.g.alchemy.com/v2/YOUR_API_KEY

# ============================================================================
# NODE MONITORING
# ============================================================================

# Enable health monitoring
ENABLE_NODE_MONITORING=true

# Health check interval (seconds)
NODE_HEALTH_CHECK_INTERVAL=30

# Maximum consecutive failures before marking node unhealthy
NODE_MAX_FAILURES=5

# Enable alerts on node health changes
ENABLE_NODE_ALERTS=true

# ============================================================================
# TRADING PARAMETERS
# ============================================================================

# Minimum profit threshold in USD for executing trades
MIN_PROFIT_USD=50

# Maximum gas price in Gwei (skip if exceeded)
MAX_GAS_PRICE_GWEI=100

# Slippage tolerance (percentage)
SLIPPAGE_TOLERANCE=0.5

# Maximum position size in USD
MAX_POSITION_SIZE=1000

# ============================================================================
# API CONFIGURATION
# ============================================================================

# API host
API_HOST=0.0.0.0

# API port
API_PORT=8000

# Enable CORS for frontend
ENABLE_CORS=true

# Frontend origin for CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================================================
# FLASH LOAN SETTINGS
# ============================================================================

# Enable flash loan execution
USE_FLASH_LOANS=true

# Aave referral code (0 for no referral)
AAVE_REFERRAL_CODE=0

# Flash loan timeout (seconds)
FLASH_LOAN_TIMEOUT=30

# ============================================================================
# PRIVATE KEY & SECURITY
# ============================================================================

# NEVER commit this file with actual private key!
# Use environment variable or secrets management system
PRIVATE_KEY=your_private_key_here

# Account for executing trades
ACCOUNT_ADDRESS=0x0000000000000000000000000000000000000000

# ============================================================================
# MONITORING & ALERTS
# ============================================================================

# Enable Discord alerts
ENABLE_DISCORD_ALERTS=false

# Discord webhook URL
DISCORD_WEBHOOK_URL=https://discordapp.com/api/webhooks/YOUR_WEBHOOK

# Discord alert threshold (profit in USD)
DISCORD_ALERT_THRESHOLD=100

# Enable Telegram alerts
ENABLE_TELEGRAM_ALERTS=false

# Telegram bot token
TELEGRAM_BOT_TOKEN=YOUR_BOT_TOKEN

# Telegram chat ID
TELEGRAM_CHAT_ID=YOUR_CHAT_ID

# ============================================================================
# SAFETY & DRY RUN
# ============================================================================

# Dry run mode (simulate trades without executing)
DRY_RUN_MODE=true

# Enable transaction simulation
ENABLE_TX_SIMULATION=true

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# SCANNING PARAMETERS
# ============================================================================

# Scan interval (seconds)
SCAN_INTERVAL=10

# Number of top opportunities to track
TOP_OPPORTUNITIES_LIMIT=20

# Enable price caching
ENABLE_PRICE_CACHE=true

# Price cache TTL (seconds)
PRICE_CACHE_TTL=5

# ============================================================================
# MEMPOOL MONITORING
# ============================================================================

# Enable mempool monitoring
ENABLE_MEMPOOL_MONITORING=true

# Chains to monitor mempool (comma-separated)
MEMPOOL_MONITOR_CHAINS=ethereum,polygon,arbitrum

# Mempool transaction filter (e.g., min gas price)
MEMPOOL_MIN_GAS_PRICE_GWEI=30

# ============================================================================
# DATABASE CONFIGURATION (PostgreSQL + TimescaleDB)
# ============================================================================

# PostgreSQL Connection String (AsyncPG)
DATABASE_URL=postgresql+asyncpg://arbitrage_user:CHANGE_ME@localhost:5432/arbitrage_bot

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_RECYCLE=3600

# Database credentials (alternative to DATABASE_URL)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=arbitrage_bot
DB_USER=arbitrage_user
DB_PASSWORD=CHANGE_ME

# Enable SQL echo for debugging (WARNING: very verbose)
SQL_ECHO=false

# ============================================================================
# REDIS CACHE CONFIGURATION
# ============================================================================

# Redis Connection String
REDIS_URL=redis://localhost:6379/0

# Redis credentials (alternative to REDIS_URL)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=  # Leave empty if no auth required

# Redis cache settings
REDIS_DEFAULT_TTL=30
OPPORTUNITIES_CACHE_TTL=10
STATS_CACHE_TTL=5
GAS_PRICES_CACHE_TTL=10

# Redis key prefix
REDIS_KEY_PREFIX=arbitrage:

# Enable Redis caching
ENABLE_REDIS_CACHE=true

# ============================================================================
# DATA RETENTION POLICIES
# ============================================================================

# Retention periods (days) - data older than these will be auto-deleted
OPPORTUNITIES_RETENTION_DAYS=7
STATS_RETENTION_DAYS=90
GAS_PRICES_RETENTION_DAYS=30
CHAIN_METRICS_RETENTION_DAYS=7
ALERTS_RETENTION_DAYS=30

# Enable automatic cleanup (runs via cleanup-old-data.py script)
ENABLE_AUTO_CLEANUP=true

# Cleanup interval (seconds) - leave to cron for production
CLEANUP_INTERVAL_SECONDS=86400

# ============================================================================
# BACKUP & DISASTER RECOVERY
# ============================================================================

# Backup directory (local storage)
BACKUP_DIR=./backups

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# Enable automatic backups (via cron scripts)
ENABLE_AUTO_BACKUPS=true

# Backup frequency (cron schedule)
# BACKUP_SCHEDULE="0 2 * * *"  # 2 AM daily

# PostgreSQL backup format (custom, tar, plain)
PG_BACKUP_FORMAT=custom

# Redis backup compression
REDIS_BACKUP_COMPRESS=true

# Optional: S3 Remote Backup
# ENABLE_S3_BACKUP=false
# S3_BUCKET=arbitrage-nexus-backups
# S3_REGION=us-east-1
# S3_PREFIX=database-backups/
# AWS_ACCESS_KEY_ID=YOUR_KEY
# AWS_SECRET_ACCESS_KEY=YOUR_SECRET

# Enable trade history tracking
TRACK_TRADE_HISTORY=true

# ============================================================================
# PERFORMANCE
# ============================================================================

# Max concurrent price fetches
MAX_CONCURRENT_PRICE_FETCHES=10

# Max concurrent scans
MAX_CONCURRENT_SCANS=5

# Request timeout (seconds)
REQUEST_TIMEOUT=30

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable arbitrage detection
ENABLE_ARBITRAGE_DETECTION=true

# Enable sandwich attack detection
ENABLE_SANDWICH_DETECTION=false

# Enable MEV bot monitoring
ENABLE_MEV_MONITORING=false

# Enable liquidation opportunities
ENABLE_LIQUIDATION_HUNTING=false
